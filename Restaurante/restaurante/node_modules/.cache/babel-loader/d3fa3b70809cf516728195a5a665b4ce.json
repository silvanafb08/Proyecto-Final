{"ast":null,"code":"var _jsxFileName = \"C:\\\\DW2\\\\Proyecto final\\\\Restaurante\\\\restaurante\\\\src\\\\pages\\\\LoginPage.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable react/style-prop-object */\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useState } from 'react';\nimport Cookies from \"universal-cookie/es6\";\nimport axios from 'axios';\nimport { Container } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function LoginPage() {\n  _s();\n\n  const URL = \"http://127.0.0.1:3001/usuario\";\n  const cookies = new Cookies();\n  const initLogin = {\n    nombre: '',\n    password: ''\n  };\n  const [login, setLogin] = useState(initLogin);\n\n  const controlarCambio = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setLogin({ ...login,\n      [name]: value\n    });\n  };\n\n  const iniciarSesion = async () => {\n    await axios.get(URL, {\n      params: {\n        nombre: login.USU_NOMBRE,\n        password: login.USU_CONTRA\n      }\n    }).then(resp => {\n      return resp.data;\n    }).then(res => {\n      if (res.length > 0) {\n        const respuesta = res[0];\n        cookies.set('USU_CODIGO', respuesta.USU_CODIGO, {\n          path: '/'\n        });\n        cookies.set('USU_NOMBRE', respuesta.USU_NOMBRE, {\n          path: '/'\n        });\n        cookies.set('USU_APELLIDO1', respuesta.USU_APELLIDO1, {\n          path: '/'\n        });\n        cookies.set('USU_APELLIDO2', respuesta.USU_APELLIDO2, {\n          path: '/'\n        });\n        cookies.set('USU_TELEF1', respuesta.USU_TELF1, {\n          path: '/'\n        });\n        cookies.set('USU_TELEF2', respuesta.USU_TELF2, {\n          path: '/'\n        });\n        cookies.set('USU_PRIVI', respuesta.USU_PRIVI, {\n          path: '/'\n        });\n        window.location.href = '/menu';\n      } else {\n        window.location.href = '/';\n        alert('usuario invalido');\n      }\n    }).catch(error => console.log('Error::', error));\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"col-auto text-center\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        class: \"form-signin\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          class: \"mt-4 mb-4\",\n          src: \"https://img.icons8.com/office/344/security-configuration.png\",\n          height: \"72\",\n          alt: \"Seguridad\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          class: \"h3 mb-4 font-weight-normal\",\n          children: \" Ingresar \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"Name\",\n          class: \"sr-only\",\n          name: \"USU_NOMBRE\",\n          children: \" \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"user\",\n          name: \"USU_NOMBRE\",\n          id: \"USU_NOMBRE\",\n          class: \"form-control\",\n          placeholder: \"Name\",\n          required: true,\n          autofocus: true,\n          onChange: controlarCambio\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"password\",\n          name: \"USU_NOMBRE\",\n          class: \"sr-only\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"USU_CONTRA\",\n          id: \"USU_CONTRA\",\n          placeholder: \"Password\",\n          class: \"form-control\",\n          onChange: controlarCambio\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"mt-3\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            class: \"btn btn-success btn-primary btn-block \",\n            onClick: iniciarSesion,\n            children: \" Aceptar \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 2\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 1\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 1\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n\n_s(LoginPage, \"M+7yeUTGVleiDPl5hUHOCkUu78o=\");\n\n_c = LoginPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"sources":["C:/DW2/Proyecto final/Restaurante/restaurante/src/pages/LoginPage.js"],"names":["React","useState","Cookies","axios","Container","LoginPage","URL","cookies","initLogin","nombre","password","login","setLogin","controlarCambio","e","name","value","target","iniciarSesion","get","params","USU_NOMBRE","USU_CONTRA","then","resp","data","res","length","respuesta","set","USU_CODIGO","path","USU_APELLIDO1","USU_APELLIDO2","USU_TELF1","USU_TELF2","USU_PRIVI","window","location","href","alert","catch","error","console","log"],"mappings":"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","sourcesContent":["/* eslint-disable react/style-prop-object */\r\n/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React, { useState } from 'react'\r\nimport Cookies from \"universal-cookie/es6\"\r\nimport axios from 'axios'\r\nimport {Container} from 'react-bootstrap'\r\n\r\nexport default function LoginPage() {\r\n\r\n  const URL =\"http://127.0.0.1:3001/usuario\";\r\n  const cookies = new Cookies();\r\n  const initLogin = {\r\n    nombre:'',\r\n    password:'',\r\n  }\r\n  const[login, setLogin] = useState(initLogin);\r\n\r\n  const controlarCambio =(e)=>{\r\n    const{name,value} = e.target;\r\n    setLogin({\r\n      ...login,\r\n      [name]:value\r\n    })\r\n  }\r\n  const iniciarSesion=async()=>{\r\n    await axios.get(URL,{params:{nombre:login.USU_NOMBRE,password:login.USU_CONTRA}})\r\n    .then(resp=>{\r\n      return resp.data\r\n    })\r\n    .then(res=>{\r\n      if(res.length>0){\r\n        const respuesta = res[0];\r\n        cookies.set('USU_CODIGO',respuesta.USU_CODIGO,{path:'/'});\r\n        cookies.set('USU_NOMBRE',respuesta.USU_NOMBRE,{path:'/'});\r\n        cookies.set('USU_APELLIDO1',respuesta.USU_APELLIDO1,{path:'/'});\r\n        cookies.set('USU_APELLIDO2',respuesta.USU_APELLIDO2,{path:'/'});\r\n        cookies.set('USU_TELEF1',respuesta.USU_TELF1,{path:'/'});\r\n        cookies.set('USU_TELEF2',respuesta.USU_TELF2,{path:'/'});\r\n        cookies.set('USU_PRIVI',respuesta.USU_PRIVI,{path:'/'});\r\n        \r\n        window.location.href='/menu';\r\n      }else{\r\n        window.location.href='/';\r\n        alert('usuario invalido')\r\n        \r\n      }\r\n    }) .catch(error=>console.log('Error::',error))\r\n  }\r\n  return (\r\n   \r\n    \r\n    <Container>\r\n<div class=\"col-auto text-center\">\r\n  \r\n    <form class=\"form-signin\">\r\n<img class= \"mt-4 mb-4\" src=\"https://img.icons8.com/office/344/security-configuration.png\" height=\"72\" alt=\"Seguridad\"/>\r\n<h1 class = \"h3 mb-4 font-weight-normal\"> Ingresar </h1>\r\n<label for= \"Name\" class =\"sr-only\" name=\"USU_NOMBRE\" > </label>\r\n<input type =\"user\" name=\"USU_NOMBRE\" id='USU_NOMBRE'\r\nclass=\"form-control\" placeholder = \"Name\" required autofocus \r\nonChange={controlarCambio}/> \r\n<label for= \"password\" name=\"USU_NOMBRE\" \r\nclass =\"sr-only\"></label>\r\n<input type=\"password\" name=\"USU_CONTRA\" id='USU_CONTRA'\r\nplaceholder=\"Password\" class=\"form-control\" \r\nonChange={controlarCambio}/>\r\n<div class = \"mt-3\">\r\n <button class = \"btn btn-success btn-primary btn-block \" onClick={iniciarSesion}> Aceptar </button>\r\n \r\n</div>\r\n</form>\r\n</div>\r\n</Container>\r\n     \r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}