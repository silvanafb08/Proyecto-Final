{"ast":null,"code":"var _jsxFileName = \"C:\\\\DW2\\\\Proyecto final\\\\Restaurante\\\\restaurante\\\\src\\\\pages\\\\LoginPage.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable react/style-prop-object */\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useState } from 'react';\nimport Cookies from \"universal-cookie/es6\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function LoginPage() {\n  _s();\n\n  const URL = \"http://127.0.0.1:3001/usuario\";\n  const cookies = new Cookies();\n  const initLogin = {\n    USU_NOMBRE: '',\n    USU_CONTRA: ''\n  };\n  const [login, setLogin] = useState(initLogin);\n\n  const controlarCambio = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setLogin({ ...login,\n      [name]: value\n    });\n  };\n\n  const iniciarSesion = async () => {\n    await axios.get(URL, {\n      params: {\n        USU_NOMBRE: login.USU_NOMBRE,\n        USU_CONTRA: login.USU_CONTRA\n      }\n    }).then(resp => {\n      return resp.data;\n    }).then(res => {\n      if (res.length > 0) {\n        const respuesta = res[0];\n        cookies.set('USU_CODIGO', respuesta.USU_CODIGO, {\n          path: '/'\n        });\n        cookies.set('USU_NOMBRE', respuesta.USU_NOMBRE, {\n          path: '/'\n        });\n        cookies.set('USU_APELLIDO1', respuesta.USU_APELLIDO1, {\n          path: '/'\n        });\n        cookies.set('USU_APELLIDO2', respuesta.USU_APELLIDO2, {\n          path: '/'\n        });\n        cookies.set('USU_TELEF1', respuesta.USU_TELF1, {\n          path: '/'\n        });\n        cookies.set('USU_TELEF2', respuesta.USU_TELF2, {\n          path: '/'\n        });\n        cookies.set('USU_PRIVI', respuesta.USU_PRIVI, {\n          path: '/'\n        });\n        alert(`Bienvenido ${respuesta.USU_NOMBRE}`);\n        window.location.href = '/menu';\n      } else {\n        alert('usuario invalido');\n      }\n    }).catch(error => console.log('Error::', error));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"col-auto text-center\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        class: \"mt-4 mb-4\",\n        src: \"https://img.icons8.com/ios/344/user--v1.png\",\n        height: \"72\",\n        alt: \"User icon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        class: \"h3 mb-4 font-weight-normal\",\n        children: \" Ingresar \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        for: \"Name\",\n        class: \"sr-only\",\n        children: \" \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"user\",\n        name: \"USU_NOMBRE\",\n        class: \"form-control\",\n        placeholder: \"Name\",\n        required: true,\n        autofocus: true,\n        onChange: controlarCambio\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        for: \"password\",\n        class: \"sr-only\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        name: \"USU_CONTRA\",\n        placeholder: \"Password\",\n        class: \"form-control\",\n        onChange: controlarCambio\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"mt-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          class: \"btn btn-success btn-primary btn-block \",\n          onClick: iniciarSesion,\n          children: \" Aceptar \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 2\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          class: \"btn btn-danger btn-primary btn-block\",\n          children: \" Borrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 2\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 1\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 1\n  }, this);\n}\n\n_s(LoginPage, \"M+7yeUTGVleiDPl5hUHOCkUu78o=\");\n\n_c = LoginPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"sources":["C:/DW2/Proyecto final/Restaurante/restaurante/src/pages/LoginPage.js"],"names":["React","useState","Cookies","axios","LoginPage","URL","cookies","initLogin","USU_NOMBRE","USU_CONTRA","login","setLogin","controlarCambio","e","name","value","target","iniciarSesion","get","params","then","resp","data","res","length","respuesta","set","USU_CODIGO","path","USU_APELLIDO1","USU_APELLIDO2","USU_TELF1","USU_TELF2","USU_PRIVI","alert","window","location","href","catch","error","console","log"],"mappings":"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","sourcesContent":["/* eslint-disable react/style-prop-object */\r\n/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React, { useState } from 'react'\r\nimport Cookies from \"universal-cookie/es6\"\r\nimport axios from 'axios'\r\n\r\nexport default function LoginPage() {\r\n\r\n  const URL =\"http://127.0.0.1:3001/usuario\";\r\n  const cookies = new Cookies();\r\n  const initLogin = {\r\n    USU_NOMBRE:'',\r\n    USU_CONTRA:'',\r\n  }\r\n  const[login, setLogin] = useState(initLogin);\r\n\r\n  const controlarCambio =(e)=>{\r\n    const{name,value} = e.target;\r\n    setLogin({\r\n      ...login,\r\n      [name]:value\r\n    })\r\n  }\r\n  const iniciarSesion=async()=>{\r\n    await axios.get(URL,{params:{USU_NOMBRE:login.USU_NOMBRE,USU_CONTRA:login.USU_CONTRA}})\r\n    .then(resp=>{\r\n      return resp.data\r\n    })\r\n    .then(res=>{\r\n      if(res.length>0){\r\n        const respuesta = res[0];\r\n        cookies.set('USU_CODIGO',respuesta.USU_CODIGO,{path:'/'});\r\n        cookies.set('USU_NOMBRE',respuesta.USU_NOMBRE,{path:'/'});\r\n        cookies.set('USU_APELLIDO1',respuesta.USU_APELLIDO1,{path:'/'});\r\n        cookies.set('USU_APELLIDO2',respuesta.USU_APELLIDO2,{path:'/'});\r\n        cookies.set('USU_TELEF1',respuesta.USU_TELF1,{path:'/'});\r\n        cookies.set('USU_TELEF2',respuesta.USU_TELF2,{path:'/'});\r\n        cookies.set('USU_PRIVI',respuesta.USU_PRIVI,{path:'/'});\r\n        alert(`Bienvenido ${respuesta.USU_NOMBRE}`)\r\n        window.location.href='/menu';\r\n      } else{\r\n        alert('usuario invalido')\r\n      }\r\n    }) .catch(error=>console.log('Error::',error))\r\n  }\r\n  return (\r\n   \r\n    \r\n<div class=\"col-auto text-center\">\r\n  \r\n    <form >\r\n<img class= \"mt-4 mb-4\" src=\"https://img.icons8.com/ios/344/user--v1.png\" height=\"72\" alt=\"User icon\"/>\r\n<h1 class = \"h3 mb-4 font-weight-normal\"> Ingresar </h1>\r\n<label for= \"Name\" class =\"sr-only\"> </label>\r\n<input type =\"user\" name=\"USU_NOMBRE\"\r\nclass=\"form-control\" placeholder = \"Name\" required autofocus \r\nonChange={controlarCambio}/> \r\n<label for= \"password\"\r\nclass =\"sr-only\"></label>\r\n<input type=\"password\" name=\"USU_CONTRA\" \r\nplaceholder=\"Password\" class=\"form-control\" \r\nonChange={controlarCambio}/>\r\n<div class = \"mt-3\">\r\n <button class = \"btn btn-success btn-primary btn-block \" onClick={iniciarSesion}> Aceptar </button>\r\n <button class = \"btn btn-danger btn-primary btn-block\"> Borrar</button>\r\n\r\n\r\n</div>\r\n</form>\r\n</div>\r\n     \r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}